---
layout: layout
---

{{content}}

<section class="talks small-12 columns">
{% for event in site.posts %}

    {% if forloop.first == false %}<hr>{% endif %}

    <div class="event row" itemscope itemtype="http://schema.org/Event">
        <div class="small-2 columns event-date-wrapper">
            <time class="event-date" itemprop="startDate" datetime="{{ event.event_date|date_to_xmlschema }}" content="{{ event.event_date|date_to_xmlschema }}">
                <em>{{ event.event_date|date:"%b" }}</em>
                <span>{{ event.event_date|date:"%-d" }}</span>
            </time>
        </div>

        <div class="small-12 medium-10 columns">
            <div class="row">
                <div class="small-12 columns">
                    <h3 class="event-name" itemprop="name">{{ event.title }}</h3>
                </div>
            </div>

            <div class="row">
                <div class="small-12 columns">
                    <div class="event-date-small">
                        {{ event.event_date|date: '%d/%m/%y <strong>%R</strong>' }}
                    </div>

                    <div class="event-description text-justify" itemprop="description">
                        {{ event.description|markdownify }}
                    </div>

                    {% if event.location %}
                    <div class="event-location" itemprop="location" itemscope itemtype="http://schema.org/Place">
                        <i class="fa fa-map-marker event-meta-icon"></i>
                        {% if event.location.name %}
                        <span itemprop="name">{{ event.location.name }}</span>
                        {% endif %}
                        <a itemprop="address" itemscope itemtype="http://schema.org/PostalAddress" href="https://www.google.fr/maps/place/{{ event.location.street_address | replace: ' ','+' }}+{{ event.location.postal_code | replace: ' ','+' }}+{{ event.location.city | replace: ' ','+' }}" target="_blank">
                            <span itemprop="streetAddress">{{ event.location.street_address }}</span>
                            <span itemprop="postalCode">{{ event.location.postal_code }}</span>
                            <span itemprop="addressLocality">{{ event.location.city }}</span>
                        </a>
                    </div>
                    {% endif %}

                    {% if event.event_url %}
                    <div class="event-url" itemprop="url">
                        <i class="fa fa-external-link event-meta-icon"></i>
                        <a href="{{ event.event_url }}" target="_blank">{{ event.event_url }}</a>
                    </div>
                    {% endif %}

                    <div class="event-tags">
                        {% if event.location or event.tags.size > 0 %}
                        <i class="fa fa-tags event-meta-icon"></i>
                        {% endif %}
                        {% if event.location %}
                        <span class="event-tags-item event-tags-city button radius">{{ event.location.city }}</span>
                        {% endif %}
                        {% for tag in event.tags %}
                        <span class="event-tags-item button radius success">{{ tag }}</span>
                        {% endfor %}
                    </div>

                    {% capture url_google_calendar  %}
                        https://www.google.com/calendar/render?action=TEMPLATE{% if event.title %}&text={{ event.title | replace:'#','%23' }}{% endif %}&dates={{ event.event_date|date: '%Y%m%dT%H%M00'}}/{{ event.event_date|date: '%Y%m%dT%H%M00'}}{% if event.description %}&details={{ event.description | markdownify | strip_html | replace: '+','%2b'}}{% endif %}{% if event.location %}&location={{ event.location.street_address | replace: ' ','+' }}+{{ event.location.postal_code | replace: ' ','+' }}+{{ event.location.city | replace: ' ','+' }}{% endif %}&sf=true
                    {% endcapture %}

                    <div class="event-add-calendar">
                        <i class="fa fa-google event-meta-icon"></i>
                        <a target="_blank" href="{{ url_google_calendar }}">
                            <span>{{ site.insert.google-calendar}}</span>
                        </a>
                    </div>
                    {% capture url_icalendar %}
                        data:text/calendar;charset=utf8,BEGIN:VCALENDAR%0D%0AVERSION:1.0%0D%0ABEGIN:VEVENT%0D%0ADTSTART:{{ event.event_date|date: '%Y%m%dT%H%M00' }}%0D%0ADTEND:{{ event.event_date|date: '%Y%m%dT%H%M00' }}{% if event.title %}%0D%0ASUMMARY:{{ event.title | replace:'#','%23' }}{% endif %}{% if event.location %}%0D%0ALOCATION:{{ event.location.street_address }} {{ event.location.postal_code }} {{ event.location.city }}{% endif %}{% if event.description %}%0D%0ADESCRIPTION:{{ event.description | markdownify | strip_html | replace: '+','%2b'}}{% endif %}%0D%0APRIORITY:3%0D%0AEND:VEVENT%0D%0AEND:VCALENDAR
                    {% endcapture %}
                    <div class="event-add-calendar">
                        <i class="fa fa-calendar event-meta-icon"></i>
                        <a target="_blank" href="{{ url_icalendar }}">
                            <span>{{ site.insert.icalendar}}</span> 
                        </a>
                    </div>
                </div>
            </div>
        </div>
    </div>
{% endfor %}
</section>
